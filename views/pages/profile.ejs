<%- include('../partials/header') %>

<div class="profile-page">
  <div class="profile-page--banner"></div>
  <div class="profile-page__user">
    <img src="<%= user.avatarUrl %>" class="profile-page__user--avatar">
    <h2><%= user.name %></h2>
    <a href="/" class="profile-page__user--sign-out"><h2><%= signin.signout %></h2></a>
  </div>
  <div class="profile-page__friends">
    <h3><%= user.name %>'s Friends</h3>
    <ul class="profile-page__friends--list">
      <% let currentFriend; %>
      <% user.friends.forEach(friend => { %>
        <% users.forEach(item => { %>
          <% if (item._id === friend) { %>
            <% currentFriend = item %>
          <% } %>
        <% }) %>
        <% if (currentFriend !== undefined) { %>
            <li class="friend">
              <a href="/users/<%= currentFriend._id %>">
                <img src="<%= currentFriend.avatarUrl %>">
                <p><%= currentFriend.name %></p>
              </a>
            </li>
        <% } %>
      <% }) %>
    </ul>
  </div>
</div>

<%- include('../partials/footer') %>